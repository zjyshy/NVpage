{"version":3,"sources":["main.js"],"names":["site","localStorage","getItem","siteObject","JSON","parse","hashMap","id","siteUrl","siteName","load","hash","map","ele","createTag","$","on","addDataToLocal","key","deleteDataToLocal","prompt","obj","name","trim","indexOf","replace","createId","Object","assign","push","e","newHash","filter","console","log","currentTarget","dataset","parent","remove","content","add","before","toLowerCase","altKey","dateNow","Date","now","randomN","Math","random","toString","substring","window","onbeforeunload","str","stringify","setItem"],"mappings":"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","file":"main.d05828ad.js","sourceRoot":"..\\src","sourcesContent":["const site = localStorage.getItem(\"site\");\r\nconst siteObject = JSON.parse(site);\r\nlet hashMap = siteObject || [\r\n  {\r\n    id: \"1\",\r\n    siteUrl: \"http://alibaba.com\",\r\n    siteName: \"alibaba.com\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    siteUrl: \"http://bilibili.com\",\r\n    siteName: \"baidu.com\",\r\n  },\r\n];\r\nload(hashMap);\r\n\r\n//每一次载入时调用\r\nfunction load(hash) {\r\n  hash.map((ele) => {\r\n    createTag(ele);\r\n  });\r\n\r\n  //监听添加按钮的点击事件\r\n  $(\".addSite\").on(\"click\", addDataToLocal);\r\n  //监听键盘事件（快捷键）\r\n  $(\"body\").on(\"keydown\", key);\r\n  $(\".siteList\").on(\"click\", \".deleteSite\", deleteDataToLocal);\r\n}\r\n\r\nfunction addDataToLocal() {\r\n  let siteUrl = prompt(\"请输入你要添加的网址吧~\");\r\n  let obj = {};\r\n  let name;\r\n  if (siteUrl && siteUrl.trim() !== \"\") {\r\n    if (siteUrl.indexOf(\"http\") === -1) {\r\n      siteUrl = \"https://\" + siteUrl;\r\n    }\r\n    if (siteUrl.indexOf(\"https\") !== -1) {\r\n      name = siteUrl.replace(\"https://\", \"\");\r\n    } else if (siteUrl.indexOf(\"http\") !== -1) {\r\n      name = siteUrl.replace(\"http://\", \"\");\r\n    }\r\n    let id = createId();\r\n    Object.assign(obj, {\r\n      id: id,\r\n      siteUrl: siteUrl,\r\n      siteName: name,\r\n    });\r\n    hashMap.push(obj);\r\n    createTag(obj);\r\n  }\r\n}\r\n\r\nfunction deleteDataToLocal(e) {\r\n  let newHash = hashMap.filter((ele) => {\r\n    console.log(e.currentTarget.dataset.id !== ele.id);\r\n    return e.currentTarget.dataset.id !== ele.id;\r\n  });\r\n\r\n  hashMap = newHash;\r\n  console.log(hashMap);\r\n  $(e.currentTarget).parent().remove();\r\n}\r\n//创建一个新的标签\r\nfunction createTag(content) {\r\n  const add = $(\".addSiteWrapper\");\r\n  add.before(`<li>\r\n  <div class='deleteSite' data-id = \"${\r\n    content.id\r\n  }\"><svg class=\"icon\" aria-hidden=\"true\">\r\n  <use xlink:href=\"#icon-close\"></use>\r\n</svg></div>\r\n  <a href=\"${content.siteUrl}\">\r\n   <div class=\"site\">\r\n    <div class=\"logo\"><img src=\"${\r\n      content.siteUrl\r\n    }/favicon.ico\" alt=\"icon\"></div>\r\n     <div class=\"link\">${content.siteName.toLowerCase()}</div>\r\n   </div>\r\n </a></li>\r\n  \r\n  `);\r\n}\r\n\r\nfunction key(e) {\r\n  console.log(e.key);\r\n  if (e.altKey && e.key === \"a\") {\r\n    addDataToLocal();\r\n  }\r\n}\r\n\r\nfunction createId() {\r\n  let dateNow = Date.now();\r\n  let randomN = Math.random().toString(36).substring(3);\r\n  let id = dateNow + randomN;\r\n  return id;\r\n}\r\n\r\nwindow.onbeforeunload = () => {\r\n  const str = JSON.stringify(hashMap);\r\n\r\n  localStorage.setItem(\"site\", str);\r\n};\r\n"]}